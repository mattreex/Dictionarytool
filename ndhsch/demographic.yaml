$schema: "http://json-schema.org/draft-04/schema#"

id: "demographic"
title: Demographic
type: object
nodeTerms: null
namespace: https://niaid.bionimbus.org
category: clinical
program: '*'
project: '*'
description: Data for the characterization of the patient by means of segmenting the
  population (e.g., characterization by age, sex, or race).
additionalProperties: false
submittable: true
validators: null

systemProperties:
  - id
  - project_id
  - state
  - created_datetime
  - updated_datetime

links:
  - name: subjects
    backref: demographics
    label: describes
    target_type: subject
    multiplicity: one_to_one
    required: true

required:
  - submitter_id
  - type
  - subjects

uniqueKeys:
  - [id]
  - [project_id, submitter_id]

properties:

  $ref: "_definitions.yaml#/ubiquitous_properties"

  bmi:
    description: The body mass divided by the square of the body height expressed
      in units of kg/m^2.
    terms:
      - $ref: "_terms.yaml#/C138901"
    type: number

  caribbean_islander:
    description: Caribbean precedence
    terms: null
    enumTerms:
      Caribbean island origin: null
      Not Caribbean island origin: null

  country_of_birth:
    description: Country of birth
    terms:
      - $ref: "_terms.yaml#/C25155"
      - $ref: "_terms.yaml#/C25464"
    type: string

  ethnicity:
    terms:
      - $ref: "_terms.yaml#/ethnicity"
    enumTerms:
      Hispanic or Latino:
        - $ref: "_terms.yaml#/C17459"
      Not Hispanic or Latino:
        - $ref: "_terms.yaml#/C41222"
      Other:
        - $ref: "_terms.yaml#/C17649"
      Unknown:
        - $ref: "_terms.yaml#/C17998"

  gender:
    terms:
      - $ref: "_terms.yaml#/gender"
    enumTerms:
      female:
        - $ref: "_terms.yaml#/C46110"
      male:
        - $ref: "_terms.yaml#/C84364"
      not reported:
        - $ref: "_terms.yaml#/C43234"
      unknown:
        - $ref: "_terms.yaml#/C17998"
      unspecified:
        - $ref: "_terms.yaml#/C38046"

  human_age_at_index:
    description: The participant's age (in years) on the reference or anchor date
      used during date obfuscation. If this age is greater than 89 years, see 'human_age_at_index_gt89'.
    terms:
      - $ref: "_terms.yaml#/C14225"
      - $ref: "_terms.yaml#/C37908"
      - $ref: "_terms.yaml#/C25390"
    type: "['number', 'null']"
    maximum: 89
    minimum: 0

  human_age_at_index_gt89:
    description: Indicate if the participant's age (in years) on the reference or
      anchor date used during date obfuscation is greater than 89 years.
    terms: null
    enumTerms:
      No: null
      Yes: null

  isolation_country:
    description: The country in which the bacteria was isolated.
    terms: null
    type: string

  race:
    terms:
      - $ref: "_terms.yaml#/race"
    enumTerms:
      American Indian or Alaskan Native:
        - $ref: "_terms.yaml#/C41259"
        - $ref: "_terms.yaml#/C41259"
      Asian:
        - $ref: "_terms.yaml#/C41260"
      Asian/Pacific Islander:
        - $ref: "_terms.yaml#/C41219"
      Black:
        - $ref: "_terms.yaml#/C128938"
      Multi-racial:
        - $ref: "_terms.yaml#/C104495"
      Other:
        - $ref: "_terms.yaml#/C17649"
      Unknown:
        - $ref: "_terms.yaml#/C17998"
      Unspecified:
        - $ref: "_terms.yaml#/C38046"
      White:
        - $ref: "_terms.yaml#/C41261"

  rodent_age_at_index:
    description: The rodent's age (in weeks) on the reference or anchor date used
      during date obfuscation
    terms:
      - $ref: "_terms.yaml#/C14270"
      - $ref: "_terms.yaml#/C37908"
      - $ref: "_terms.yaml#/C25390"
    type: number

  sexual_orientation:
    description: Definition of sexual orientation
    terms:
      - $ref: "_terms.yaml#/C84361"
    enumTerms:
      Bisexual:
        - $ref: "_terms.yaml#/C84364"
      Heterosexual:
        - $ref: "_terms.yaml#/C84362"
      Lesbian/Gay:
        - $ref: "_terms.yaml#/C84363"
      Other:
        - $ref: "_terms.yaml#/C17649"
      Refusal:
        - $ref: "_terms.yaml#/C110959"
      Unknown:
        - $ref: "_terms.yaml#/C17998"

  vital_status:
    terms:
      - $ref: "_terms.yaml#/vital_status"
    enumTerms:
      Alive: null
      Dead: null
      Lost to Follow-up: null
      Unknown: null

  year_of_birth:
    terms:
      - $ref: "_terms.yaml#/year_of_birth"
    type: "['number', 'null']"

  year_of_death:
    terms:
      - $ref: "_terms.yaml#/year_of_death"
    type: number

  subjects:
    $ref: "_definitions.yaml#/to_one"
